{"version":3,"sources":["components/Data/WorldTable.jsx","components/Data/Boxplot.jsx","components/Maps/Legend.jsx","components/Maps/Mainmap.jsx","components/Maps/PreviewMap.jsx","components/Interface/RunButton.jsx","components/Controls/MLSetup.jsx","components/Controls/ListSelector.jsx","components/Controls/Synthesizer.jsx","components/Loading.jsx","components/Interface/Navbar.jsx","components/DashApp.jsx","App.js","serviceWorker.js","index.js"],"names":["WorldTable","props","state","stats","loading","columns","dataState","height","getMuiTheme","createMuiTheme","overrides","MUIDataTable","root","backgroundColor","margin","padding","paper","boxShadow","MUIDataTableBodyCell","textAlign","MUIDataTableToolbar","minHeight","tableRef","React","createRef","document","getElementById","clientHeight","this","setState","dataItems","dataPopulator","dataProps","features","key","hasOwnProperty","firstProp","Object","keys","properties","push","userFeaturesOriginal","userFeaturesProps","map","feature","replace","columnValues","f","name","label","slice","options","hint","reverse","Fragment","style","marginLeft","marginRight","theme","title","float","color","data","filter","rowHover","downloadOptions","filename","separator","filterType","responsive","tableBodyHeight","draggableColumns","enabled","transitionTime","rowsPerPageOptions","rowsPerPage","viewColumns","Component","Boxplot","domain","selectedDomain","zoomDomain","console","log","domainPadding","width","VictoryTheme","material","colorScale","containerComponent","zoomDimension","onZoomDomainChange","handleZoom","bind","x","clusters","y","columnName","Legend","left","right","parts","result","delta","split","legend","L","control","position","onAdd","from","to","d","div","DomUtil","create","grades","extentProps","labels","i","length","innerHTML","join","leaflet","addTo","MapControl","withLeaflet","Mainmap","geojson","useRef","featureName","breaks","userSelectedItems","columnNameClean","type","groups","ss","cluster","d3","range","Set","LayersControl","BaseLayer","Overlay","useEffect","current","geoJSON","fillColor","weight","opacity","dashArray","fillOpacity","eachLayer","layer","bindPopup","leafletElement","removeControl","removeLayer","Array","breaksCopy","isinteger","toFixed","undefined","Map","attributionControl","ref","center","zoom","checked","TileLayer","url","PreviewMap","useStyles","makeStyles","button","spacing","Runbutton","classes","useState","btnNotReady","setBtnNotReady","Button","onClick","propsOnClick","variant","disabled","className","endIcon","Icon","formControl","minWidth","selectEmpty","marginTop","SimpleSelect","sendButtonRef","setCluster","Grid","container","direction","alignItems","justify","FormControl","Select","labelId","id","value","onChange","event","target","displayEmpty","MenuItem","handleSubmit","userFeatures","fontSize","cardHeader","list","palette","background","overflow","textTransform","MuiTypography","MuiListItem","not","a","b","indexOf","intersection","TransferList","listItems","listItemsCleaned","item","setChecked","preview","setPreview","setLeft","setRight","leftChecked","rightChecked","featureProps","items","handleToggle","currentIndex","newChecked","splice","handleTogglePreview","fakeValue","methodProps","handleToggleSelected","numberOfChecked","handleToggleAll","Card","CardHeader","avatar","Checkbox","indeterminate","inputProps","subheader","Tooltip","Divider","List","dense","component","role","ListItem","disableRipple","tabIndex","icon","checkedIcon","ListItemText","primary","size","concat","aria-label","customListSelected","Typography","a11yProps","index","tabsRoot","tabRoot","Synthesizer","setValue","Paper","square","Tabs","newValue","indicatorColor","textColor","scrollButtons","Tab","display","CircularIndeterminate","CircularProgress","grow","flexGrow","menuButton","breakpoints","up","search","borderRadius","shape","fade","common","white","searchIcon","pointerEvents","justifyContent","inputRoot","inputInput","paddingLeft","transition","transitions","sectionDesktop","sectionMobile","PrimarySearchAppBar","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","handleProfileMenuOpen","currentTarget","handleMobileMenuClose","handleMenuClose","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","onClose","mobileMenuId","renderMobileMenu","IconButton","Badge","badgeContent","aria-controls","aria-haspopup","AppBar","Toolbar","edge","noWrap","InputBase","placeholder","input","DashApp","stageCanvasRef","divHeight","setDivHeight","isSending","setIsSending","offsetHeight","fetchUrl","setData","axios","get","then","res","forEach","catch","err","message","getData","userSelected","setUserSelected","userClicked","setUserFeatures","clusterNum","Features","mlRequest","post","JSON","stringify","withCredentials","headers","Accept","response","responseData","fidClusterMap","fid","toString","dataCopy","parse","error","userClickedProp","placeItems","heightProp","App","window","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9f7c8ff7.chunk.js","sourcesContent":["import React from \"react\";\r\nimport MUIDataTable from \"mui-datatables\";\r\nimport { createMuiTheme, MuiThemeProvider } from \"@material-ui/core/styles\";\r\n\r\nclass WorldTable extends React.Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\t\tthis.tableRef = React.createRef();\r\n\t}\r\n\tstate = {\r\n\t\tstats: [],\r\n\t\tloading: false,\r\n\t\tcolumns: [],\r\n\t\tdataState: [],\r\n\t\theight: 201\r\n\t};\r\n\r\n\tgetInitialState () {\r\n\t\treturn { state: 0 };\r\n\t}\r\n\r\n\tcomponentDidMount () {\r\n\t\tconst height = document.getElementById(\"tble\").clientHeight;\r\n\t\tthis.setState({ height });\r\n\t}\r\n\tgetMuiTheme = () =>\r\n\t\tcreateMuiTheme({\r\n\t\t\toverrides: {\r\n\t\t\t\tMUIDataTable: {\r\n\t\t\t\t\troot: {\r\n\t\t\t\t\t\tbackgroundColor: \"red\",\r\n\t\t\t\t\t\tmargin: \"dense\",\r\n\t\t\t\t\t\tpadding: \"auto\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpaper: {\r\n\t\t\t\t\t\tboxShadow: \"none\"\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tMUIDataTableBodyCell: {\r\n\t\t\t\t\troot: {\r\n\t\t\t\t\t\tbackgroundColor: \"inherit\",\r\n\t\t\t\t\t\tpadding: \"3px\",\r\n\t\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\t\tmargin: \"dense\"\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tMUIDataTableToolbar: {\r\n\t\t\t\t\troot: {\r\n\t\t\t\t\t\tminHeight: \"40px\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\trender () {\r\n\t\t// Getting data and processing to format acceptable by table\r\n\t\tlet listItems = []; //column names\r\n\t\tlet dataItems = []; //processed data\r\n\r\n\t\tlet dataPopulator = this.props.dataProps.features; //getting features from the main json\r\n\t\tif (dataPopulator !== null) {\r\n\t\t\tfor (var key in dataPopulator) {\r\n\t\t\t\tif (dataPopulator.hasOwnProperty(key)) {\r\n\t\t\t\t\tlet firstProp = dataPopulator[key];\r\n\t\t\t\t\tlistItems = Object.keys(firstProp.properties);\r\n\t\t\t\t\tdataItems.push(firstProp.properties);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet userFeaturesOriginal = [];\r\n\t\tif (this.props.userFeaturesProps !== null) {\r\n\t\t\tuserFeaturesOriginal = this.props.userFeaturesProps.map((feature) =>\r\n\t\t\t\tfeature.replace(/ /g, \"_\")\r\n\t\t\t);\r\n\t\t}\r\n\t\t// let columnValues1 = [ \"fid\" ];\r\n\t\tlet columnValues = userFeaturesOriginal.map((f) => ({\r\n\t\t\tname: f,\r\n\t\t\tlabel: f.slice(0, 20) + \"...\",\r\n\t\t\toptions: { hint: f }\r\n\t\t}));\r\n\t\tcolumnValues.push(\"fid\");\r\n\t\tcolumnValues.reverse();\r\n\t\t// console.log(columnValues);\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div style={{ marginLeft: \"5px\", marginRight: \"5px\" }}>\r\n\t\t\t\t\t<br />\r\n\r\n\t\t\t\t\t<MuiThemeProvider theme={this.getMuiTheme()}>\r\n\t\t\t\t\t\t<MUIDataTable\r\n\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t<h4 style={{ float: \"left\", color: \"#383838\" }}>Data Explorer</h4>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcolumns={columnValues}\r\n\t\t\t\t\t\t\tdata={dataItems}\r\n\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\tfilter: true,\r\n\r\n\t\t\t\t\t\t\t\trowHover: true,\r\n\t\t\t\t\t\t\t\tdownloadOptions: { filename: \"CustomDownload.csv\", separator: \",\" },\r\n\t\t\t\t\t\t\t\tfilterType: \"dropdown\",\r\n\r\n\t\t\t\t\t\t\t\tresponsive: \"stacked\",\r\n\t\t\t\t\t\t\t\ttableBodyHeight: \"25vh\",\r\n\t\t\t\t\t\t\t\tdraggableColumns: { enabled: true, transitionTime: 300 },\r\n\t\t\t\t\t\t\t\trowsPerPageOptions: [ 5, 10, 50 ],\r\n\t\t\t\t\t\t\t\trowsPerPage: 5,\r\n\t\t\t\t\t\t\t\tviewColumns: true\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</MuiThemeProvider>\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default WorldTable;\r\n","import React from \"react\";\r\nimport {\r\n\tVictoryChart,\r\n\tVictoryZoomContainer,\r\n\tVictoryLine,\r\n\tVictoryBrushContainer,\r\n\tVictoryAxis,\r\n\tVictoryTheme,\r\n\tVictoryBoxPlot\r\n} from \"victory\";\r\n\r\nclass Boxplot extends React.Component {\r\n\t//   constructor() {\r\n\t//     super();\r\n\t//     this.state = {};\r\n\t//   }\r\n\tstate = {};\r\n\r\n\thandleZoom (domain) {\r\n\t\tthis.setState({ selectedDomain: domain });\r\n\t}\r\n\r\n\thandleBrush (domain) {\r\n\t\tthis.setState({ zoomDomain: domain });\r\n\t}\r\n\r\n\trender () {\r\n\t\tconsole.log(this.data);\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<VictoryChart\r\n\t\t\t\t\tdomainPadding={20}\r\n\t\t\t\t\twidth={500}\r\n\t\t\t\t\theight={300}\r\n\t\t\t\t\ttheme={VictoryTheme.material}\r\n\t\t\t\t\tcolorScale={\"warm\"}\r\n\t\t\t\t\tcontainerComponent={\r\n\t\t\t\t\t\t<VictoryZoomContainer\r\n\t\t\t\t\t\t\tresponsive={false}\r\n\t\t\t\t\t\t\tzoomDimension='x'\r\n\t\t\t\t\t\t\tzoomDomain={this.state.zoomDomain}\r\n\t\t\t\t\t\t\tonZoomDomainChange={this.handleZoom.bind(this)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}>\r\n\t\t\t\t\t<VictoryBoxPlot\r\n\t\t\t\t\t\t// boxWidth={20}\r\n\t\t\t\t\t\tdata={this.props.data.features.map((f) => {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tx: f.properties.clusters,\r\n\t\t\t\t\t\t\t\ty: f.properties[this.props.columnName]\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</VictoryChart>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nexport default Boxplot;\r\n","import { MapControl, withLeaflet } from \"react-leaflet\";\r\nimport L from \"leaflet\";\r\n\r\nclass Legend extends MapControl {\r\n\tcreateLeafletElement (props) {}\r\n\r\n\tcomponentDidMount () {\r\n\t\t// get color depending on population density value\r\n\r\n\t\tfunction getColor (d){\r\n\t\t\tvar color;\r\n\t\t\tif (d > 1000) {\r\n\t\t\t\tcolor = \"#800026\";\r\n\t\t\t} else if (d > 500) {\r\n\t\t\t\tcolor = \"#BD0026\";\r\n\t\t\t} else if (d > 200) {\r\n\t\t\t\tcolor = \"#E31A1C\";\r\n\t\t\t} else if (d > 100) {\r\n\t\t\t\tcolor = \"#FC4E2A\";\r\n\t\t\t} else if (d > 50) {\r\n\t\t\t\tcolor = \"#FD8D3C\";\r\n\t\t\t} else color = \"#FEB24C\";\r\n\t\t\treturn color;\r\n\t\t}\r\n\r\n\t\tfunction split (left, right, parts){\r\n\t\t\tvar result = [],\r\n\t\t\t\tdelta = (right - left) / (parts - 1);\r\n\t\t\twhile (left < right) {\r\n\t\t\t\tresult.push(left);\r\n\t\t\t\tleft += delta;\r\n\t\t\t}\r\n\t\t\tresult.push(right);\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\tlet mamad = split(100, 200, 5);\r\n\r\n\t\tconst legend = L.control({ position: \"topright\" });\r\n\r\n\t\tlegend.onAdd = () => {\r\n\t\t\tconst div = L.DomUtil.create(\"div\", \"info legend\");\r\n\t\t\tconst grades = [\r\n\t\t\t\tthis.props.extentProps,\r\n\t\t\t\tthis.props.extentProps,\r\n\t\t\t\tthis.props.extentProps\r\n\t\t\t];\r\n\t\t\tlet labels = [];\r\n\t\t\tlet from;\r\n\t\t\tlet to;\r\n\r\n\t\t\tfor (let i = 0; i < grades.length; i++) {\r\n\t\t\t\tfrom = grades[i];\r\n\t\t\t\tto = grades[i + 1];\r\n\r\n\t\t\t\tlabels.push(\r\n\t\t\t\t\t'<i style=\"background:' +\r\n\t\t\t\t\t\tgetColor(from + 1) +\r\n\t\t\t\t\t\t'\"></i> ' +\r\n\t\t\t\t\t\tfrom +\r\n\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\tto ? \"&ndash;\" + to :\r\n\t\t\t\t\t\t\t\"+\")\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tdiv.innerHTML = labels.join(\"<br>\");\r\n\t\t\treturn div;\r\n\t\t};\r\n\r\n\t\tconst { map } = this.props.leaflet;\r\n\t\tlegend.addTo(map);\r\n\t}\r\n}\r\n\r\nexport default withLeaflet(Legend);\r\n","/* eslint-disable no-unreachable */\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport { Map, GeoJSON, TileLayer, LayersControl, MapContainer } from \"react-leaflet\";\r\nimport FeatureName from \"./Legend\";\r\nimport HighlightedGeoJson from \"./HighlightedGeoJson\";\r\nimport * as ss from \"simple-statistics\";\r\nimport * as d3 from \"d3\";\r\nimport L from \"leaflet\";\r\nimport Legend from \"./Legend\";\r\n// import { clustersDbscan, point, dissolve } from \"@turf/turf\";\r\n\r\nfunction Mainmap (props){\r\n\t//getting the first object from geojson to extract column names\r\n\tconsole.log(props.dataProps);\r\n\tlet dataPopulator = props.dataProps.features;\r\n\tconst geojson = useRef();\r\n\tconst legend = useRef(null);\r\n\tconst map = useRef();\r\n\tconst featureName = useRef(null);\r\n\r\n\tif (dataPopulator !== null) {\r\n\t\tfor (var key in dataPopulator) {\r\n\t\t\tif (dataPopulator.hasOwnProperty(key)) {\r\n\t\t\t\tlet firstProp = dataPopulator[key];\r\n\t\t\t\tlet listItems = Object.keys(firstProp.properties);\r\n\r\n\t\t\t\t// let listValue = Object.values(firstProp.properties);\r\n\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// disolving\r\n\t// var dissolved = dissolve(dataPopulator, { propertyName: \"combine\" });\r\n\r\n\t//Getting the values from the feature and defining color ranges\r\n\tlet columnName = props.userSelectedItems;\r\n\tlet columnNameClean = columnName.replace(/_/g, \" \");\r\n\r\n\tlet columnValues = dataPopulator.map((f) => f.properties[columnName]);\r\n\tlet type = typeof columnValues[0];\r\n\tlet breaks;\r\n\tlet colorScale;\r\n\tif (type !== \"string\") {\r\n\t\tlet colorsBrewer = [\r\n\t\t\t\"#f6eff7\",\r\n\t\t\t\"#d0d1e6\",\r\n\t\t\t\"#a6bddb\",\r\n\t\t\t\"#67a9cf\",\r\n\t\t\t\"#3690c0\",\r\n\t\t\t\"#02818a\",\r\n\t\t\t\"#016450\"\r\n\t\t];\r\n\t\tlet groups = ss.ckmeans(columnValues, 7);\r\n\t\tbreaks = groups.map((cluster) => {\r\n\t\t\treturn cluster[0];\r\n\t\t});\r\n\r\n\t\t//Quant Breaks\r\n\t\tcolorScale = d3.scaleQuantile().domain(breaks).range(colorsBrewer);\r\n\t} else {\r\n\t\tbreaks = new Set(columnValues);\r\n\t\tconsole.log(breaks);\r\n\t\tcolorScale = d3.scaleOrdinal().domain(breaks).range(d3.schemeCategory10);\r\n\t}\r\n\r\n\t//Coloring each feature based on the user selected values from the list selector\r\n\r\n\t//Leaflet Components\r\n\tconst { BaseLayer, Overlay } = LayersControl;\r\n\r\n\t//Map center on load\r\n\tconst center = [ 41.8781, -87.6298 ];\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (map.current) {\r\n\t\t\t\tfunction styles (feature){\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tfillColor: colorScale(feature.properties[columnName]),\r\n\t\t\t\t\t\tweight: 0,\r\n\t\t\t\t\t\topacity: 1,\r\n\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\tdashArray: \"3\",\r\n\t\t\t\t\t\tfillOpacity: 1\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(props.dataProps, \"props\");\r\n\t\t\t\tgeojson.current = L.geoJSON(props.dataProps, { style: styles });\r\n\t\t\t\tgeojson.current.eachLayer(function (layer){\r\n\t\t\t\t\t// console.log(layer);\r\n\t\t\t\t\tlayer.bindPopup(`${columnName} : ${layer.feature.properties[columnName]}`);\r\n\t\t\t\t});\r\n\t\t\t\t// map.current.leafletElement.eachLayer((layer) => {\r\n\t\t\t\t// \tconsole.log(layer);\r\n\t\t\t\t// });\r\n\t\t\t\tif (legend.current !== null) {\r\n\t\t\t\t\tmap.current.leafletElement.removeControl(legend.current);\r\n\t\t\t\t}\r\n\t\t\t\tif (geojson.current !== null) {\r\n\t\t\t\t\tmap.current.leafletElement.removeLayer(geojson.current);\r\n\t\t\t\t}\r\n\t\t\t\tif (featureName.current !== null) {\r\n\t\t\t\t\tmap.current.leafletElement.removeControl(featureName.current);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlegend.current = L.control({ position: \"topright\" });\r\n\t\t\t\tfeatureName.current = L.control({ position: \"topright\" });\r\n\r\n\t\t\t\tfeatureName.current.onAdd = () => {\r\n\t\t\t\t\tconst div = L.DomUtil.create(\"div\", \"info titleMap\");\r\n\t\t\t\t\tdiv.innerHTML = `<p> ${columnNameClean}</p>`;\r\n\t\t\t\t\treturn div;\r\n\t\t\t\t};\r\n\r\n\t\t\t\tlegend.current.onAdd = () => {\r\n\t\t\t\t\tconst div = L.DomUtil.create(\"div\", \"info legend\");\r\n\t\t\t\t\t// const grades = [\r\n\t\t\t\t\t// \tthis.props.extentProps,\r\n\t\t\t\t\t// \tthis.props.extentProps,\r\n\t\t\t\t\t// \tthis.props.extentProps\r\n\t\t\t\t\t// ];\r\n\t\t\t\t\tlet labels = [];\r\n\t\t\t\t\tlet from;\r\n\t\t\t\t\tlet to;\r\n\t\t\t\t\tbreaks = Array.from(breaks);\r\n\t\t\t\t\tlet breaksCopy = Array.from(breaks).slice(0, 7);\r\n\t\t\t\t\t// console.log(breaksCopy);\r\n\t\t\t\t\t// if (breaks > 7 && type === \"string\") {\r\n\t\t\t\t\t//   breaksCopy.push(\"Others...\");\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tfor (let i = 0; i < breaksCopy.length; i++) {\r\n\t\t\t\t\t\tif (type === \"number\") {\r\n\t\t\t\t\t\t\tlet isinteger = breaksCopy[i] % 1 === 0;\r\n\t\t\t\t\t\t\tfrom =\r\n\t\t\t\t\t\t\t\tisinteger ? breaksCopy[i] :\r\n\t\t\t\t\t\t\t\tbreaks[i].toFixed(2);\r\n\t\t\t\t\t\t\tto =\r\n\t\t\t\t\t\t\t\tbreaksCopy[i + 1] ? isinteger ? breaksCopy[i + 1] :\r\n\t\t\t\t\t\t\t\tbreaksCopy[i + 1].toFixed(2) :\r\n\t\t\t\t\t\t\t\tbreaksCopy[i + 1];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// console.log(breaksCopy[i].length);\r\n\t\t\t\t\t\t\t// from =\r\n\t\t\t\t\t\t\t//   breaksCopy[i].length > 20\r\n\t\t\t\t\t\t\t//     ? `${breaksCopy[i].slice(0, 20)}...`\r\n\t\t\t\t\t\t\t//     : breaksCopy[i];\r\n\t\t\t\t\t\t\t// to = undefined;\r\n\t\t\t\t\t\t\tfrom = breaksCopy[i];\r\n\t\t\t\t\t\t\tto = undefined;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tlabels.push(\r\n\t\t\t\t\t\t\t'<i style=\"background:' +\r\n\t\t\t\t\t\t\t\tcolorScale(breaksCopy[i]) +\r\n\t\t\t\t\t\t\t\t'\"></i> ' +\r\n\t\t\t\t\t\t\t\tfrom +\r\n\t\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t\tto ? \" &ndash; \" + to :\r\n\t\t\t\t\t\t\t\t\ttype !== \"string\" ? \"+\" :\r\n\t\t\t\t\t\t\t\t\t\"\")\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdiv.innerHTML = labels.join(\"<br>\");\r\n\t\t\t\t\treturn div;\r\n\t\t\t\t};\r\n\t\t\t\tgeojson.current.addTo(map.current.leafletElement);\r\n\t\t\t\tfeatureName.current.addTo(map.current.leafletElement);\r\n\t\t\t\tlegend.current.addTo(map.current.leafletElement);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ columnName, props.dataProps ]\r\n\t);\r\n\r\n\t// WIP Section end ____________________________________\r\n\r\n\treturn (\r\n\t\t<Map\r\n\t\t\tattributionControl={false}\r\n\t\t\tref={map}\r\n\t\t\tcenter={center}\r\n\t\t\tzoom={10}\r\n\t\t\tstyle={{ height: \"100%\", width: \"100%\" }}>\r\n\t\t\t<LayersControl position='bottomleft'>\r\n\t\t\t\t<LayersControl.BaseLayer checked name='OpenStreetMap.BlackAndWhite'>\r\n\t\t\t\t\t<TileLayer url='https://api.mapbox.com/styles/v1/aradnia/ckilrttol26ng17pa9l4m0ucd/wmts?access_token=pk.eyJ1IjoiYXJhZG5pYSIsImEiOiJjanlhZDdienQwNGN0M212MHp3Z21mMXhvIn0.lPiKb_x0vr1H62G_jHgf7w' />\r\n\t\t\t\t</LayersControl.BaseLayer>\r\n\t\t\t\t<LayersControl.Overlay name='Marker with popup' />\r\n\t\t\t</LayersControl>\r\n\t\t</Map>\r\n\t);\r\n}\r\nexport default Mainmap;\r\n","/* eslint-disable no-unreachable */\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport { Map, GeoJSON, TileLayer, LayersControl } from \"react-leaflet\";\r\nimport FeatureName from \"./Legend\";\r\nimport HighlightedGeoJson from \"./HighlightedGeoJson\";\r\nimport * as ss from \"simple-statistics\";\r\nimport * as d3 from \"d3\";\r\nimport L from \"leaflet\";\r\nimport Legend from \"./Legend\";\r\n\r\nfunction PreviewMap (props){\r\n\t//getting the first object from geojson to extract column names\r\n\tconsole.log(props.dataProps);\r\n\tlet dataPopulator = props.dataProps.features;\r\n\tconst geojson = useRef();\r\n\tconst legend = useRef(null);\r\n\tconst map = useRef();\r\n\tconst featureName = useRef(null);\r\n\r\n\tif (dataPopulator !== null) {\r\n\t\tfor (var key in dataPopulator) {\r\n\t\t\tif (dataPopulator.hasOwnProperty(key)) {\r\n\t\t\t\tlet firstProp = dataPopulator[key];\r\n\t\t\t\tlet listItems = Object.keys(firstProp.properties);\r\n\r\n\t\t\t\t// let listValue = Object.values(firstProp.properties);\r\n\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//Getting the values from the feature and defining color ranges\r\n\tlet columnName = props.userSelectedItems;\r\n\tlet columnNameClean = columnName.replace(/_/g, \" \");\r\n\r\n\tlet columnValues = dataPopulator.map((f) => f.properties[columnName]);\r\n\tlet type = typeof columnValues[0];\r\n\tlet breaks;\r\n\tlet colorScale;\r\n\tif (type !== \"string\") {\r\n\t\tlet colorsBrewer = [\r\n\t\t\t\"#f6eff7\",\r\n\t\t\t\"#d0d1e6\",\r\n\t\t\t\"#a6bddb\",\r\n\t\t\t\"#67a9cf\",\r\n\t\t\t\"#3690c0\",\r\n\t\t\t\"#02818a\",\r\n\t\t\t\"#016450\"\r\n\t\t];\r\n\t\tlet groups = ss.ckmeans(columnValues, 7);\r\n\t\tbreaks = groups.map((cluster) => {\r\n\t\t\treturn cluster[0];\r\n\t\t});\r\n\r\n\t\t//Quant Breaks\r\n\t\tcolorScale = d3.scaleQuantile().domain(breaks).range(colorsBrewer);\r\n\t} else {\r\n\t\tbreaks = new Set(columnValues);\r\n\t\tconsole.log(breaks);\r\n\t\tcolorScale = d3.scaleOrdinal().domain(breaks).range(d3.schemeCategory10);\r\n\t}\r\n\r\n\t// let extent = d3.extent(columnValues);\r\n\t// //Linear breaks\r\n\t// let colorScale = d3.scaleLinear().domain(d3.extent(columnValues)).range([ \"coral\", \"blue\" ]);\r\n\t// let colorScaleCategorical = d3\r\n\t// \t.scaleLinear()\r\n\t// \t.domain(d3.extent(columnValues))\r\n\t// \t.range([ \"coral\", \"blue\" ]);\r\n\r\n\t//Coloring each feature based on the user selected values from the list selector\r\n\r\n\t//Leaflet Components\r\n\tconst { BaseLayer, Overlay } = LayersControl;\r\n\r\n\t//Map center on load\r\n\tconst center = [ 41.8781, -87.6298 ];\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (map.current) {\r\n\t\t\t\tfunction styles (feature){\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tfillColor: colorScale(feature.properties[columnName]),\r\n\t\t\t\t\t\tweight: 0,\r\n\t\t\t\t\t\topacity: 1,\r\n\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\tdashArray: \"3\",\r\n\t\t\t\t\t\tfillOpacity: 1\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(props.dataProps, \"props\");\r\n\t\t\t\tgeojson.current = L.geoJSON(props.dataProps, { style: styles });\r\n\t\t\t\tgeojson.current.eachLayer(function (layer){\r\n\t\t\t\t\t// console.log(layer);\r\n\t\t\t\t\tlayer.bindPopup(`${columnName} : ${layer.feature.properties[columnName]}`);\r\n\t\t\t\t});\r\n\t\t\t\t// map.current.leafletElement.eachLayer((layer) => {\r\n\t\t\t\t// \tconsole.log(layer);\r\n\t\t\t\t// });\r\n\t\t\t\tif (legend.current !== null) {\r\n\t\t\t\t\tmap.current.leafletElement.removeControl(legend.current);\r\n\t\t\t\t}\r\n\t\t\t\tif (geojson.current !== null) {\r\n\t\t\t\t\tmap.current.leafletElement.removeLayer(geojson.current);\r\n\t\t\t\t}\r\n\t\t\t\tif (featureName.current !== null) {\r\n\t\t\t\t\tmap.current.leafletElement.removeControl(featureName.current);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlegend.current = L.control({ position: \"topright\" });\r\n\t\t\t\tfeatureName.current = L.control({ position: \"topright\" });\r\n\r\n\t\t\t\tfeatureName.current.onAdd = () => {\r\n\t\t\t\t\tconst div = L.DomUtil.create(\"div\", \"info titleMap\");\r\n\t\t\t\t\tdiv.innerHTML = `<p> ${columnNameClean}</p>`;\r\n\t\t\t\t\treturn div;\r\n\t\t\t\t};\r\n\r\n\t\t\t\tlegend.current.onAdd = () => {\r\n\t\t\t\t\tconst div = L.DomUtil.create(\"div\", \"info legend\");\r\n\t\t\t\t\t// const grades = [\r\n\t\t\t\t\t// \tthis.props.extentProps,\r\n\t\t\t\t\t// \tthis.props.extentProps,\r\n\t\t\t\t\t// \tthis.props.extentProps\r\n\t\t\t\t\t// ];\r\n\t\t\t\t\tlet labels = [];\r\n\t\t\t\t\tlet from;\r\n\t\t\t\t\tlet to;\r\n\t\t\t\t\tbreaks = Array.from(breaks);\r\n\t\t\t\t\tlet breaksCopy = Array.from(breaks).slice(0, 7);\r\n\t\t\t\t\t// console.log(breaksCopy);\r\n\t\t\t\t\t// if (breaks > 7 && type === \"string\") {\r\n\t\t\t\t\t//   breaksCopy.push(\"Others...\");\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tfor (let i = 0; i < breaksCopy.length; i++) {\r\n\t\t\t\t\t\tif (type === \"number\") {\r\n\t\t\t\t\t\t\tlet isinteger = breaksCopy[i] % 1 === 0;\r\n\t\t\t\t\t\t\tfrom =\r\n\t\t\t\t\t\t\t\tisinteger ? breaksCopy[i] :\r\n\t\t\t\t\t\t\t\tbreaks[i].toFixed(2);\r\n\t\t\t\t\t\t\tto =\r\n\t\t\t\t\t\t\t\tbreaksCopy[i + 1] ? isinteger ? breaksCopy[i + 1] :\r\n\t\t\t\t\t\t\t\tbreaksCopy[i + 1].toFixed(2) :\r\n\t\t\t\t\t\t\t\tbreaksCopy[i + 1];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// console.log(breaksCopy[i].length);\r\n\t\t\t\t\t\t\t// from =\r\n\t\t\t\t\t\t\t//   breaksCopy[i].length > 20\r\n\t\t\t\t\t\t\t//     ? `${breaksCopy[i].slice(0, 20)}...`\r\n\t\t\t\t\t\t\t//     : breaksCopy[i];\r\n\t\t\t\t\t\t\t// to = undefined;\r\n\t\t\t\t\t\t\tfrom = breaksCopy[i];\r\n\t\t\t\t\t\t\tto = undefined;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tlabels.push(\r\n\t\t\t\t\t\t\t'<i style=\"background:' +\r\n\t\t\t\t\t\t\t\tcolorScale(breaksCopy[i]) +\r\n\t\t\t\t\t\t\t\t'\"></i> ' +\r\n\t\t\t\t\t\t\t\tfrom +\r\n\t\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t\tto ? \" &ndash; \" + to :\r\n\t\t\t\t\t\t\t\t\ttype !== \"string\" ? \"+\" :\r\n\t\t\t\t\t\t\t\t\t\"\")\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdiv.innerHTML = labels.join(\"<br>\");\r\n\t\t\t\t\treturn div;\r\n\t\t\t\t};\r\n\t\t\t\tgeojson.current.addTo(map.current.leafletElement);\r\n\t\t\t\tfeatureName.current.addTo(map.current.leafletElement);\r\n\t\t\t\tlegend.current.addTo(map.current.leafletElement);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ columnName, props.dataProps ]\r\n\t);\r\n\r\n\t// WIP Section end ____________________________________\r\n\r\n\treturn (\r\n\t\t<Map\r\n\t\t\tattributionControl={false}\r\n\t\t\tref={map}\r\n\t\t\tcenter={center}\r\n\t\t\tzoom={10}\r\n\t\t\tstyle={{ height: \"100%\", width: \"100%\" }}>\r\n\t\t\t<TileLayer url='https://api.mapbox.com/styles/v1/aradnia/ckilrttol26ng17pa9l4m0ucd/wmts?access_token=pk.eyJ1IjoiYXJhZG5pYSIsImEiOiJjanlhZDdienQwNGN0M212MHp3Z21mMXhvIn0.lPiKb_x0vr1H62G_jHgf7w' />\r\n\t\t</Map>\r\n\t);\r\n}\r\nexport default PreviewMap;\r\n","import React, { useState } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Icon from \"@material-ui/core/Icon\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tbutton: {\r\n\t\tmargin: theme.spacing(1)\r\n\t}\r\n}));\r\n\r\nexport default function Runbutton (props){\r\n\tconst classes = useStyles();\r\n\tconst [btnNotReady, setBtnNotReady] = useState((props.loading || false))\r\n\t\r\n\tReact.useEffect(() => {\r\n\t\tsetBtnNotReady(props.loading || false);\r\n\t}, [props.loading])\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{/* This Button uses a Font Icon, see the installation instructions in the Icon component docs. */}\r\n\t\t\t<Button\r\n\t\t\t\tonClick={props.propsOnClick}\r\n\t\t\t\tvariant='contained'\r\n\t\t\t\tcolor='primary'\r\n\t\t\t\tdisabled={btnNotReady}\r\n\t\t\t\tclassName={classes.button}\r\n\t\t\t\tendIcon={btnNotReady ? <Icon>timer</Icon> : <Icon>send</Icon>}>\r\n\t\t\t\tRun\r\n\t\t\t</Button>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport RunButton from \"../Interface/RunButton\";\r\nconst useStyles = makeStyles((theme) => ({\r\n\tformControl: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tminWidth: \"40%\"\r\n\t},\r\n\tselectEmpty: {\r\n\t\tmarginTop: theme.spacing(1)\r\n\t}\r\n}));\r\n\r\nexport default function SimpleSelect(props) {\r\n\tlet sendButtonRef = React.createRef();\r\n\r\n\tconst classes = useStyles();\r\n\tconst [ cluster, setCluster ] = React.useState(\"\");\r\n\r\n\t\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tsetCluster(event.target.value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container direction='row' alignItems='center' justify='center'>\r\n\t\t\t\t<FormControl className={classes.formControl}>\r\n\t\t\t\t\t{/* <InputLabel shrink id='demo-simple-select-placeholder-label-label'>\r\n\t\t\t\t\t\tClusters\r\n\t\t\t\t\t</InputLabel> */}\r\n\t\t\t\t\t<Select\r\n\t\t\t\t\t\tlabelId='demo-simple-select-placeholder-label-label'\r\n\t\t\t\t\t\tid='demo-simple-select-placeholder-label'\r\n\t\t\t\t\t\tvalue={cluster}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tdisplayEmpty\r\n\t\t\t\t\t\tclassName={classes.selectEmpty}>\r\n\t\t\t\t\t\t<MenuItem value=''>\r\n\t\t\t\t\t\t\t<em>Select...</em>\r\n\t\t\t\t\t\t</MenuItem>\r\n\r\n\t\t\t\t\t\t<MenuItem value={2}> 2 </MenuItem>\r\n\t\t\t\t\t\t<MenuItem value={3}> 3</MenuItem>\r\n\t\t\t\t\t\t<MenuItem value={4}> 4 </MenuItem>\r\n\t\t\t\t\t\t<MenuItem value={5}> 5 </MenuItem>\r\n\t\t\t\t\t\t<MenuItem value={6}> 6 </MenuItem>\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t\t{/* <FormHelperText>Choose number of Clusters</FormHelperText> */}\r\n\t\t\t\t</FormControl>\r\n\t\t\t\t<RunButton ref={sendButtonRef}\r\n\t\t\t\t\tpropsOnClick={() => {\r\n\t\t\t\t\t\tprops.handleSubmit(cluster, props.userFeatures);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardHeader from \"@material-ui/core/CardHeader\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport HelpIcon from \"@material-ui/icons/Help\";\r\nimport InfoOutlinedIcon from \"@material-ui/icons/InfoOutlined\";\r\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\r\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ExpandLessIcon from \"@material-ui/icons/ExpandLess\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\n\r\nimport MLSetup from \"./MLSetup\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tmargin: \"2px\",\r\n\t\tpadding: \"5px\",\r\n\t\tfontSize: \"8px\"\r\n\t},\r\n\tcardHeader: {\r\n\t\tpadding: theme.spacing(1, 2)\r\n\t},\r\n\tlist: {\r\n\t\twidth: 280,\r\n\t\theight: \"250px\",\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\toverflow: \"auto\",\r\n\t\ttextTransform: \"capitalize\"\r\n\t},\r\n\tMuiTypography: {\r\n\t\tfontSize: \"8px\"\r\n\t},\r\n\tbutton: {\r\n\t\tmargin: theme.spacing(1, 1)\r\n\t},\r\n\tMuiListItem: {\r\n\t\tpadding: \"0px\",\r\n\t\tmargin: 0\r\n\t}\r\n}));\r\n\r\nfunction not (a, b){\r\n\treturn a.filter((value) => b.indexOf(value) === -1);\r\n}\r\n\r\nfunction intersection (a, b){\r\n\treturn a.filter((value) => b.indexOf(value) !== -1);\r\n}\r\n\r\nfunction union (a, b){\r\n\treturn [ ...a, ...not(b, a) ];\r\n}\r\n\r\nexport default function TransferList (props){\r\n\tvar listItems;\r\n\r\n\t//getting the first object from geojson to extract column names\r\n\r\n\tlet dataPopulator = props.dataProps.features;\r\n\r\n\tif (dataPopulator !== null) {\r\n\t\tfor (var key in dataPopulator) {\r\n\t\t\tif (dataPopulator.hasOwnProperty(key)) {\r\n\t\t\t\tlet firstProp = dataPopulator[key];\r\n\t\t\t\tlistItems = Object.keys(firstProp.properties);\r\n\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t//Replacing _ with space for better display\r\n\tlet listItemsCleaned = listItems.map((item) => item.replace(/_/g, \" \"));\r\n\r\n\tconst classes = useStyles();\r\n\tconst [ checked, setChecked ] = React.useState([]);\r\n\tconst [ preview, setPreview ] = React.useState();\r\n\tconsole.log(preview, \"preview\");\r\n\tconst [ left, setLeft ] = React.useState(listItemsCleaned.reverse());\r\n\tconst [ right, setRight ] = React.useState([]);\r\n\r\n\tconst leftChecked = intersection(checked, left);\r\n\tconst rightChecked = intersection(checked, right);\r\n\r\n\t//\r\n\t//Passing  selected features to parent component using props\r\n\tprops.featureProps(right);\r\n\r\n\tconst handleToggle = (value) => () => {\r\n\t\tconst currentIndex = checked.indexOf(value);\r\n\t\tconst newChecked = [ ...checked ];\r\n\r\n\t\tif (currentIndex === -1) {\r\n\t\t\tlet fakeValue = value.replace(/ /g, \"_\");\r\n\t\t\t// Passing prettified feature names to be displayed in the list\r\n\r\n\t\t\tnewChecked.push(value);\r\n\t\t} else {\r\n\t\t\tnewChecked.splice(currentIndex, 1);\r\n\t\t}\r\n\r\n\t\tsetChecked(newChecked);\r\n\t};\r\n\r\n\tconst handleTogglePreview = (value) => () => {\r\n\t\tconst currentIndex = checked.indexOf(value);\r\n\t\tconst newChecked = [ ...checked ];\r\n\r\n\t\tif (currentIndex === -1) {\r\n\t\t\tlet fakeValue = value.replace(/ /g, \"_\");\r\n\t\t\t// Passing prettified feature names to be displayed in the list\r\n\t\t\tprops.methodProps(fakeValue);\r\n\r\n\t\t\t// newChecked.push(value);\r\n\t\t} else {\r\n\t\t\tnewChecked.splice(currentIndex, 1);\r\n\t\t}\r\n\t\tsetPreview(value);\r\n\t};\r\n\r\n\tconst handleToggleSelected = (value) => () => {\r\n\t\tconst currentIndex = checked.indexOf(value);\r\n\t\tconst newChecked = [ ...checked ];\r\n\r\n\t\tif (currentIndex === -1) {\r\n\t\t\tnewChecked.push(value);\r\n\t\t} else {\r\n\t\t\tnewChecked.splice(currentIndex, 1);\r\n\t\t}\r\n\r\n\t\tsetChecked(newChecked);\r\n\t};\r\n\r\n\tconst numberOfChecked = (items) => intersection(checked, items).length;\r\n\r\n\tconst handleToggleAll = (items) => () => {\r\n\t\tif (numberOfChecked(items) === items.length) {\r\n\t\t\tsetChecked(not(checked, items));\r\n\t\t} else {\r\n\t\t\tsetChecked(union(checked, items));\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleCheckedRight = () => {\r\n\t\tsetRight(right.concat(leftChecked));\r\n\t\tsetLeft(not(left, leftChecked));\r\n\t\tsetChecked(not(checked, leftChecked));\r\n\t};\r\n\r\n\tconst handleCheckedLeft = () => {\r\n\t\tsetLeft(left.concat(rightChecked));\r\n\t\tsetRight(not(right, rightChecked));\r\n\t\tsetChecked(not(checked, rightChecked));\r\n\t};\r\n\r\n\tconst customList = (title, items) => (\r\n\t\t<Card>\r\n\t\t\t<CardHeader\r\n\t\t\t\tclassName={classes.cardHeader}\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\tfontSize='small'\r\n\t\t\t\t\t\t\tonClick={handleToggleAll(items)}\r\n\t\t\t\t\t\t\tchecked={numberOfChecked(items) === items.length && items.length !== 0}\r\n\t\t\t\t\t\t\tindeterminate={\r\n\t\t\t\t\t\t\t\tnumberOfChecked(items) !== items.length &&\r\n\t\t\t\t\t\t\t\tnumberOfChecked(items) !== 0\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdisabled={items.length === 0}\r\n\t\t\t\t\t\t\tinputProps={{ \"aria-label\": \"all items selected\" }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={title}\r\n\t\t\t\tsubheader={`${numberOfChecked(items)}/${items.length} selected`}>\r\n\t\t\t\t<Tooltip title={\"Hover over each section to learn about how they work\"}>\r\n\t\t\t\t\t<HelpIcon />\r\n\t\t\t\t</Tooltip>\r\n\t\t\t</CardHeader>\r\n\t\t\t<Divider />\r\n\t\t\t<List className={classes.list} dense={true} component='div' role='list'>\r\n\t\t\t\t{items.map((value) => {\r\n\t\t\t\t\tconst labelId = `transfer-list-all-item-${value}-label`;\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<ListItem key={value} role='listitem' button disableRipple={true}>\r\n\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\tfontSize='small'\r\n\t\t\t\t\t\t\t\tonClick={handleToggle(value)}\r\n\t\t\t\t\t\t\t\tchecked={checked.indexOf(value) !== -1}\r\n\t\t\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\t\t\tdisableRipple\r\n\t\t\t\t\t\t\t\tinputProps={{ \"aria-labelledby\": labelId }}\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t{/* preview stuff */}\r\n\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\ticon={<VisibilityOffIcon fontSize='small' />}\r\n\t\t\t\t\t\t\t\tcheckedIcon={<VisibilityIcon fontSize='small' />}\r\n\t\t\t\t\t\t\t\tonClick={handleTogglePreview(value)}\r\n\t\t\t\t\t\t\t\tchecked={value === preview}\r\n\t\t\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\t\t\tdisableRipple\r\n\t\t\t\t\t\t\t\tinputProps={{ \"aria-labelledby\": labelId }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<ListItemText id={labelId} primary={`${value}`} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t\t<ListItem />\r\n\t\t\t</List>\r\n\t\t</Card>\r\n\t);\r\n\tconst customListSelected = (title, items) => (\r\n\t\t<Card>\r\n\t\t\t<CardHeader\r\n\t\t\t\tclassName={classes.cardHeader}\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\tfontSize='small'\r\n\t\t\t\t\t\tonClick={handleToggleAll(items)}\r\n\t\t\t\t\t\tchecked={numberOfChecked(items) === items.length && items.length !== 0}\r\n\t\t\t\t\t\tindeterminate={\r\n\t\t\t\t\t\t\tnumberOfChecked(items) !== items.length && numberOfChecked(items) !== 0\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdisabled={items.length === 0}\r\n\t\t\t\t\t\tinputProps={{ \"aria-label\": \"all items selected\" }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={title}\r\n\t\t\t\tsubheader={`${numberOfChecked(items)}/${items.length} selected`}\r\n\t\t\t/>\r\n\t\t\t<Divider />\r\n\t\t\t<List className={classes.list} dense={true} component='div' role='list'>\r\n\t\t\t\t{items.map((value) => {\r\n\t\t\t\t\tconst labelId = `transfer-list-all-item-${value}-label`;\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<ListItem spacing={0} key={value} role='listitem' button>\r\n\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\tonClick={handleToggleSelected(value)}\r\n\t\t\t\t\t\t\t\tchecked={checked.indexOf(value) !== -1}\r\n\t\t\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\t\t\tdisableRipple\r\n\t\t\t\t\t\t\t\tinputProps={{ \"aria-labelledby\": labelId }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{/* preview stuff */}\r\n\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\ticon={<VisibilityOffIcon fontSize='small' />}\r\n\t\t\t\t\t\t\t\tcheckedIcon={<VisibilityIcon fontSize='small' />}\r\n\t\t\t\t\t\t\t\tonClick={handleTogglePreview(value)}\r\n\t\t\t\t\t\t\t\tchecked={value === preview}\r\n\t\t\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\t\t\tdisableRipple\r\n\t\t\t\t\t\t\t\tinputProps={{ \"aria-labelledby\": labelId }}\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<ListItemText id={labelId} primary={`${value}`} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t\t<ListItem />\r\n\t\t\t</List>\r\n\t\t</Card>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tspacing={0}\r\n\t\t\t\tdirection='column'\r\n\t\t\t\tjustify='space-evenly'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tclassName={classes.root}>\r\n\t\t\t\t<Grid item>{customList(\"Features\", left)}</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<Grid container direction='row' alignItems='center'>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\t\t\tonClick={handleCheckedRight}\r\n\t\t\t\t\t\t\tdisabled={leftChecked.length === 0}\r\n\t\t\t\t\t\t\taria-label='move selected right'>\r\n\t\t\t\t\t\t\t<ExpandMoreIcon />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\t\t\tonClick={handleCheckedLeft}\r\n\t\t\t\t\t\t\tdisabled={rightChecked.length === 0}\r\n\t\t\t\t\t\t\taria-label='move selected left'>\r\n\t\t\t\t\t\t\t<ExpandLessIcon />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>{customListSelected(\"Selected Features\", right)}</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<Typography variant='overline' className={classes.title}>\r\n\t\t\t\t\t\tNumber of Clusters\r\n\t\t\t\t\t\t<Tooltip title={\"Hover over each section to learn about how they work\"}>\r\n\t\t\t\t\t\t\t<InfoOutlinedIcon style={{ marginTop: \"3px\" }} fontSize='small' />\r\n\t\t\t\t\t\t</Tooltip>{\" \"}\r\n\t\t\t\t\t</Typography>{\" \"}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nfunction a11yProps (index){\r\n\treturn {\r\n\t\tid: `scrollable-auto-tab-${index}`,\r\n\t\t\"aria-controls\": `scrollable-auto-tabpanel-${index}`\r\n\t};\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\ttabsRoot: { height: \"30px\" },\r\n\ttabRoot: { height: \"42px\" },\r\n\troot: {\r\n\t\twidth: \"100%\",\r\n\t\theight: \"50%\"\r\n\t}\r\n}));\r\n\r\nexport default function Synthesizer (){\r\n\tconst [ value, setValue ] = React.useState(0);\r\n\r\n\tconst handleChange = (event, newValue) => {\r\n\t\tsetValue(newValue);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Paper square>\r\n\t\t\t<Tabs\r\n\t\t\t\tstyle={{ height: \"30px\" }}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\tindicatorColor='primary'\r\n\t\t\t\ttextColor='primary'\r\n\t\t\t\tvariant='scrollable'\r\n\t\t\t\tscrollButtons='auto'\r\n\t\t\t\taria-label='scrollable auto tabs example'>\r\n\t\t\t\t<Tab label='Iteration One' {...a11yProps(0)} />\r\n\t\t\t\t<Tab label='Iteration Two' {...a11yProps(1)} />\r\n\t\t\t\t<Tab label='Iteration Three' {...a11yProps(2)} />\r\n\t\t\t\t<Tab label='Iteration Four' {...a11yProps(3)} />\r\n\t\t\t\t<Tab label='Iteration Five' {...a11yProps(4)} />\r\n\t\t\t\t<Tab label='Iteration Six' {...a11yProps(5)} />\r\n\t\t\t\t<Tab label='Iteration Seven' {...a11yProps(6)} />\r\n\t\t\t</Tabs>\r\n\t\t</Paper>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t\t'& > * + *': {\r\n\t\t\tmarginLeft: theme.spacing(10)\r\n\t\t}\r\n\t}\r\n}));\r\n\r\nexport default function CircularIndeterminate(){\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<CircularProgress />\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport { fade, makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport MailIcon from \"@material-ui/icons/Mail\";\r\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\r\nimport MoreIcon from \"@material-ui/icons/MoreVert\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tgrow: {\r\n\t\tflexGrow: 1\r\n\t},\r\n\tmenuButton: {\r\n\t\tmarginRight: theme.spacing(2)\r\n\t},\r\n\ttitle: {\r\n\t\tdisplay: \"none\",\r\n\t\t[theme.breakpoints.up(\"sm\")]: {\r\n\t\t\tdisplay: \"block\"\r\n\t\t}\r\n\t},\r\n\tsearch: {\r\n\t\tposition: \"relative\",\r\n\t\tborderRadius: theme.shape.borderRadius,\r\n\t\tbackgroundColor: fade(theme.palette.common.white, 0.15),\r\n\t\t\"&:hover\": {\r\n\t\t\tbackgroundColor: fade(theme.palette.common.white, 0.25)\r\n\t\t},\r\n\t\tmarginRight: theme.spacing(5),\r\n\t\tmarginLeft: 0,\r\n\t\twidth: \"100%\",\r\n\t\t[theme.breakpoints.up(\"sm\")]: {\r\n\t\t\tmarginLeft: theme.spacing(3),\r\n\t\t\twidth: \"auto\"\r\n\t\t}\r\n\t},\r\n\tsearchIcon: {\r\n\t\tpadding: theme.spacing(0, 2),\r\n\t\theight: \"100%\",\r\n\t\tposition: \"absolute\",\r\n\t\tpointerEvents: \"none\",\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tjustifyContent: \"center\"\r\n\t},\r\n\tinputRoot: {\r\n\t\tcolor: \"inherit\"\r\n\t},\r\n\tinputInput: {\r\n\t\tpadding: theme.spacing(1, 1, 1, 0),\r\n\t\t// vertical padding + font size from searchIcon\r\n\t\tpaddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n\t\ttransition: theme.transitions.create(\"width\"),\r\n\t\twidth: \"100%\",\r\n\t\t[theme.breakpoints.up(\"md\")]: {\r\n\t\t\twidth: \"20ch\"\r\n\t\t}\r\n\t},\r\n\tsectionDesktop: {\r\n\t\tdisplay: \"none\",\r\n\t\t[theme.breakpoints.up(\"md\")]: {\r\n\t\t\tdisplay: \"flex\"\r\n\t\t}\r\n\t},\r\n\tsectionMobile: {\r\n\t\tdisplay: \"flex\",\r\n\t\t[theme.breakpoints.up(\"md\")]: {\r\n\t\t\tdisplay: \"none\"\r\n\t\t}\r\n\t}\r\n}));\r\n\r\nexport default function PrimarySearchAppBar (){\r\n\tconst classes = useStyles();\r\n\tconst [ anchorEl, setAnchorEl ] = React.useState(null);\r\n\tconst [ mobileMoreAnchorEl, setMobileMoreAnchorEl ] = React.useState(null);\r\n\r\n\tconst isMenuOpen = Boolean(anchorEl);\r\n\tconst isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n\r\n\tconst handleProfileMenuOpen = (event) => {\r\n\t\tsetAnchorEl(event.currentTarget);\r\n\t};\r\n\r\n\tconst handleMobileMenuClose = () => {\r\n\t\tsetMobileMoreAnchorEl(null);\r\n\t};\r\n\r\n\tconst handleMenuClose = () => {\r\n\t\tsetAnchorEl(null);\r\n\t\thandleMobileMenuClose();\r\n\t};\r\n\r\n\tconst handleMobileMenuOpen = (event) => {\r\n\t\tsetMobileMoreAnchorEl(event.currentTarget);\r\n\t};\r\n\r\n\tconst menuId = \"primary-search-account-menu\";\r\n\tconst renderMenu = (\r\n\t\t<Menu\r\n\t\t\tanchorEl={anchorEl}\r\n\t\t\tanchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n\t\t\tid={menuId}\r\n\t\t\tkeepMounted\r\n\t\t\ttransformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n\t\t\topen={isMenuOpen}\r\n\t\t\tonClose={handleMenuClose}>\r\n\t\t\t<MenuItem onClick={handleMenuClose}>Profile</MenuItem>\r\n\t\t\t<MenuItem onClick={handleMenuClose}>My account</MenuItem>\r\n\t\t</Menu>\r\n\t);\r\n\r\n\tconst mobileMenuId = \"primary-search-account-menu-mobile\";\r\n\tconst renderMobileMenu = (\r\n\t\t<Menu\r\n\t\t\tanchorEl={mobileMoreAnchorEl}\r\n\t\t\tanchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n\t\t\tid={mobileMenuId}\r\n\t\t\tkeepMounted\r\n\t\t\ttransformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n\t\t\topen={isMobileMenuOpen}\r\n\t\t\tonClose={handleMobileMenuClose}>\r\n\t\t\t<MenuItem>\r\n\t\t\t\t<IconButton aria-label='show 4 new mails' color='inherit'>\r\n\t\t\t\t\t<Badge badgeContent={4} /*color='red'*/> /* Fix Color!! */\r\n\t\t\t\t\t\t<MailIcon />\r\n\t\t\t\t\t</Badge>\r\n\t\t\t\t</IconButton>\r\n\t\t\t\t<p>Messages</p>\r\n\t\t\t</MenuItem>\r\n\t\t\t<MenuItem>\r\n\t\t\t\t<IconButton aria-label='show 11 new notifications' color='inherit'>\r\n\t\t\t\t\t<Badge badgeContent={11} color='secondary'>\r\n\t\t\t\t\t\t<NotificationsIcon />\r\n\t\t\t\t\t</Badge>\r\n\t\t\t\t</IconButton>\r\n\t\t\t\t<p>Notifications</p>\r\n\t\t\t</MenuItem>\r\n\t\t\t<MenuItem onClick={handleProfileMenuOpen}>\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\taria-label='account of current user'\r\n\t\t\t\t\taria-controls='primary-search-account-menu'\r\n\t\t\t\t\taria-haspopup='true'\r\n\t\t\t\t\tcolor='inherit'>\r\n\t\t\t\t\t<AccountCircle />\r\n\t\t\t\t</IconButton>\r\n\t\t\t\t<p>Profile</p>\r\n\t\t\t</MenuItem>\r\n\t\t</Menu>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className={classes.grow}>\r\n\t\t\t<AppBar position='static' style={{ background: \"#222729\" }}>\r\n\t\t\t\t<Toolbar variant='dense'>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tedge='start'\r\n\t\t\t\t\t\tclassName={classes.menuButton}\r\n\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\taria-label='open drawer'>\r\n\t\t\t\t\t\t<MenuIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<Typography className={classes.title} variant='h6' noWrap>\r\n\t\t\t\t\t\tMEDLOC\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<div className={classes.search}>\r\n\t\t\t\t\t\t<div className={classes.searchIcon}>\r\n\t\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<InputBase\r\n\t\t\t\t\t\t\tplaceholder='Search'\r\n\t\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\t\troot: classes.inputRoot,\r\n\t\t\t\t\t\t\t\tinput: classes.inputInput\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tinputProps={{ \"aria-label\": \"search\" }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={classes.grow} />\r\n\t\t\t\t\t<div className={classes.sectionDesktop}>\r\n\t\t\t\t\t\t<IconButton aria-label='show 4 new mails' color='inherit'>\r\n\t\t\t\t\t\t\t<Badge badgeContent={4} color='secondary'>\r\n\t\t\t\t\t\t\t\t<MailIcon />\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t<IconButton aria-label='show 17 new notifications' color='inherit'>\r\n\t\t\t\t\t\t\t<Badge badgeContent={17} color='secondary'>\r\n\t\t\t\t\t\t\t\t<NotificationsIcon />\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tedge='end'\r\n\t\t\t\t\t\t\taria-label='account of current user'\r\n\t\t\t\t\t\t\taria-controls={menuId}\r\n\t\t\t\t\t\t\taria-haspopup='true'\r\n\t\t\t\t\t\t\tonClick={handleProfileMenuOpen}\r\n\t\t\t\t\t\t\tcolor='inherit'>\r\n\t\t\t\t\t\t\t<AccountCircle />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={classes.sectionMobile}>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\taria-label='show more'\r\n\t\t\t\t\t\t\taria-controls={mobileMenuId}\r\n\t\t\t\t\t\t\taria-haspopup='true'\r\n\t\t\t\t\t\t\tonClick={handleMobileMenuOpen}\r\n\t\t\t\t\t\t\tcolor='inherit'>\r\n\t\t\t\t\t\t\t<MoreIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t\t{renderMobileMenu}\r\n\t\t\t{renderMenu}\r\n\t\t</div>\r\n\t);\r\n}\r\n","// Libraries import\r\n\r\nimport React, { useEffect, useState, useRef } from \"react\";\r\n\r\nimport axios from \"axios\";\r\nimport \"../styles/dashStyle.css\";\r\n\r\n// ____________________________________ Imports ____________________________________\r\n\r\n//Data\r\nimport WorldTable from \"./Data/WorldTable\";\r\n\r\n//Visualizations\r\nimport PieViz from \"./Data/PieViz\";\r\nimport BoxPlot from \"./Data/Boxplot\";\r\nimport Viz from \"./Data/Viz\";\r\n\r\n// Maps\r\nimport Mainmap from \"./Maps/Mainmap\";\r\nimport PreviewMap from \"./Maps/PreviewMap\";\r\n\r\n// Feature\r\nimport ListSelector from \"./Controls/ListSelector\";\r\nimport Synthesizer from \"./Controls/Synthesizer\";\r\nimport MLSetup from \"./Controls/MLSetup\";\r\n\r\n// UI\r\nimport Toggle from \"./Interface/Toggle\";\r\nimport Loading from \"./Loading\";\r\nimport Navbar from \"./Interface/Navbar\";\r\n\r\n// ____________________________________APP____________________________________\r\n\r\nfunction DashApp (){\r\n\t// To Do : useMemo hook for improving performance for the functions that are heavy\r\n\tconst stageCanvasRef = useRef(null);\r\n\tconst [divHeight, setDivHeight] = useState(\"200px\");\r\n\tconst [isSending, setIsSending] = useState(false);\r\n\tuseEffect(() => {\r\n\t\t// The 'current' property contains info of the reference:\r\n\t\t// align, title, ... , width, height, etc.\r\n\t\tif (stageCanvasRef.current) {\r\n\t\t\tsetDivHeight(stageCanvasRef.current.offsetHeight);\r\n\t\t\t// let width  = stageCanvasRef.current.offsetWidth;\r\n\t\t}\r\n\t});\r\n\r\n\t//Fetching data\r\n\tconst fetchUrl =\r\n\t\t\"https://raw.githubusercontent.com/AhmadzadehSanaz/Studio-Lab-Healthcare-Ellinger/main/Data%20Pipeline/hexagon_collection_master.geojson\";\r\n\r\n\tconst [ data, setData ] = useState(null);\r\n\r\n\tasync function getData (){\r\n\t\taxios\r\n\t\t\t.get(fetchUrl)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlet data = res.data;\r\n\t\t\t\tdata.features.forEach((f) => (f.properties.clusters = \"0\"));\r\n\t\t\t\tsetData(data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err.message);\r\n\t\t\t});\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tgetData();\r\n\t}, []);\r\n\r\n\t// State for getting user selected feature which will be passed to maps\r\n\tconst [ userSelected, setUserSelected ] = useState(\"Preview_Map\");\r\n\r\n\t// state for maps\r\n\tconst [ userClicked, setUserClicked ] = useState(false);\r\n\r\n\t// state for toggle between table and viz\r\n\tconst [ checkedMain, setCheckedMain ] = React.useState(false);\r\n\tconst toggleCheckedMain = () => {\r\n\t\tsetCheckedMain((prev) => !prev);\r\n\t};\r\n\r\n\t// Sate for getting features user selected for running the model\r\n\tconst [ userFeatures, setUserFeatures ] = useState(null);\r\n\r\n\t// State for submit\r\n\r\n\tconst [ userSubmit, setUserSubmit ] = useState(false);\r\n\tconst toggleSubmit = () => {\r\n\t\tsetUserSubmit((prev) => !prev);\r\n\t};\r\n\r\n\t// Sending POST request to ML API using axios\r\n\r\n\tconst handleSubmit = (clusterNum, Features) => {\r\n\t\tlet mlApiUrl = \"/get_kmeans_cluster/\";\r\n\t\t// replacing space with _ for sending to serve\r\n\t\tlet featuresToAPI = Features.map((item) => item.replace(/ /g, \"_\"));\r\n\t\tlet mlRequest = {\r\n\t\t\t\"selected features\": featuresToAPI,\r\n\t\t\t\"number of clusters\": clusterNum\r\n\t\t};\r\n\t\tconsole.log(mlRequest);\r\n\r\n\t\tsetIsSending(true);\r\n\t\t\r\n\t\taxios\r\n\t\t\t.post(mlApiUrl, JSON.stringify(mlRequest), {\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Access-Control-Allow-Origin\": \"*\",\r\n\t\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(function (response){\r\n\t\t\t\tlet responseData = response.data;\r\n\r\n\t\t\t\tlet fidClusterMap = {};\r\n\t\t\t\tObject.keys(responseData).forEach((f) => {\r\n\t\t\t\t\tf = responseData[f];\r\n\t\t\t\t\tfidClusterMap[f.fid] = f.clusters.toString();\r\n\t\t\t\t});\r\n\r\n\t\t\t\tlet dataCopy = JSON.parse(JSON.stringify(data));\r\n\t\t\t\tdataCopy.features.forEach((f) => {\r\n\t\t\t\t\tf.properties.clusters = fidClusterMap[f.properties.fid];\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(dataCopy.features.map((f) => f.properties.clusters));\r\n\t\t\t\tsetData(dataCopy);\r\n\t\t\t\tsetIsSending(false);\r\n\t\t\t})\r\n\t\t\t.catch(function (error){\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tsetIsSending(false);\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='App'>\r\n\t\t\t{\r\n\t\t\t\tdata !== null ? <div className='containerDash'>\r\n\t\t\t\t\t{/* ------------------ NavBar ------------------*/}\r\n\t\t\t\t\t<nav className='navDash generalComp'>\r\n\t\t\t\t\t\t<Navbar />\r\n\t\t\t\t\t</nav>\r\n\r\n\t\t\t\t\t{/*  ------------------Map History Browser ------------------  */}\r\n\t\t\t\t\t<div className='mainDash generalComp'>\r\n\t\t\t\t\t\t<Synthesizer />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/*  ------------------ Data Selector ------------------ */}\r\n\r\n\t\t\t\t\t<div className='sidebarDash generalComp' style={{ padding: \"5px\" }}>\r\n\t\t\t\t\t\t<ListSelector\r\n\t\t\t\t\t\t\tdataProps={data}\r\n\t\t\t\t\t\t\tmethodProps={setUserSelected}\r\n\t\t\t\t\t\t\tfeatureProps={setUserFeatures}\r\n\t\t\t\t\t\t\thandleSubmit={handleSubmit}\r\n\t\t\t\t\t\t\tuserFeatures={userFeatures}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tisSending ? <div style={{\r\n\t\t\t\t\t\t\t\t\theight: \"60px\",\r\n\t\t\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\t\t\tjustifyContent: \"center\",\r\n\t\t\t\t\t\t\t\t\talignItems: \"center\"\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<Loading />\r\n\t\t\t\t\t\t\t</div> : <MLSetup handleSubmit={handleSubmit} userFeatures={userFeatures} />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/*  ------------------ Map Preview ------------------*/}\r\n\t\t\t\t\t<div className='content4 generalComp'>\r\n\t\t\t\t\t\t<h6 style={{ marginTop: \"5px\", padding: \"5px\" }}> Preview Map </h6>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<PreviewMap\r\n\t\t\t\t\t\t\t\tdataProps={data}\r\n\t\t\t\t\t\t\t\tuserSelectedItems={userSelected}\r\n\t\t\t\t\t\t\t\tuserClickedProp={userClicked}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* ------------------ Main Map ------------------*/}\r\n\t\t\t\t\t<div className='content5 generalComp'>\r\n\t\t\t\t\t\t<h6 style={{ marginTop: \"5px\", padding: \"5px\" }}> Model View </h6>\r\n\t\t\t\t\t\t<span style={{ marginTop: \"5px\" }}>\r\n\t\t\t\t\t\t\t<Mainmap\r\n\t\t\t\t\t\t\t\tdataProps={data}\r\n\t\t\t\t\t\t\t\tuserSelectedItems={\"clusters\"}\r\n\t\t\t\t\t\t\t\tuserClickedProp={userClicked}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* ------------------ Mix Viz ------------------*/}\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName='content6 generalComp'\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tdisplay: \"grid\",\r\n\r\n\t\t\t\t\t\t\tplaceItems: \"center\"\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<BoxPlot data={data} columnName={userSelected} />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* ----------- Data Table /Viz ------------------ */}\r\n\t\t\t\t\t<div className='content7 generalComp' id='tble' ref={stageCanvasRef}>\r\n\t\t\t\t\t\t<WorldTable\r\n\t\t\t\t\t\t\tstyle={{ padding: \"5px\" }}\r\n\t\t\t\t\t\t\tdataProps={data}\r\n\t\t\t\t\t\t\tuserFeaturesProps={userFeatures}\r\n\t\t\t\t\t\t\theightProp={divHeight}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div> :\r\n\t\t\t\t// Loading\r\n\t\t\t\t<div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\theight: \"100vh\",\r\n\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\tjustifyContent: \"center\",\r\n\t\t\t\t\t\talignItems: \"center\"\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t<Loading />\r\n\t\t\t\t</div>}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default DashApp;\r\n","import DashApp from './components/DashApp';\r\nimport 'leaflet/dist/leaflet.css';\r\n\r\nfunction App (){\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<DashApp />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nimport * as serviceWorker from './serviceWorker';\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}